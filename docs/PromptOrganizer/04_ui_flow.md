# UI/UX フロー設計

## 概要

プロンプト自動整理機能のUI/UX設計。
ユーザーが安心して利用でき、整理結果を分かりやすく理解できることを重視する。

---

## 1. 画面遷移図

### 1.1 実行フロー（メインフロー）

```
[Improve Menu (サブメニュー)]
  ├─ Prompt Improver → [PromptImproveDialog]
  └─ Organize Prompts (プロンプト整理を実行)
      ↓
[PromptOrganizerExecuteDialog] ① 実行ダイアログ
  ↓ (整理するボタン押下)
[ローディング表示]
  ↓ (Gemini API 完了)
[OrganizerSummaryDialog] ② サマリダイアログ
  ↓ (プレビューを見るボタン押下)
[OrganizerPreviewDialog] ③ プレビューダイアログ
  ↓ (保存ボタン押下)
[完了通知]
  ↓
[Pinned Menu] ④ セクションB に新規テンプレート表示
```

### 1.2 設定フロー（サブフロー）

```
[Settings Menu]
  ↓ (プロンプト整理の設定を開く)
[OrganizerSettingsDialog] 設定専用ダイアログ
  ↓ (保存ボタン押下)
[設定保存完了]
```

---

## 2. Improve Menu サブメニュー構造

### 2.1 概要

Improve Menu を単一のボタンからドロップダウンメニューに変更し、2つのメニュー項目を表示する。

### 2.2 メニュー構造

```
┌─────────────────────────────┐
│ [Sparkles アイコン] ▼       │ ← Improve Menu トリガー
└─────────────────────────────┘
         ↓ (クリック)
┌─────────────────────────────┐
│ ✨ Prompt Improver          │ ← 既存のプロンプト改善機能
├─────────────────────────────┤
│ 📝 Organize Prompts         │ ← 新規：プロンプト整理実行
└─────────────────────────────┘
```

### 2.3 ユーザーインタラクション

- **Improve Menu トリガーにマウスホバー**: ドロップダウンメニューを表示
- **"Prompt Improver" クリック**: 既存の PromptImproveDialog を開く
- **"Organize Prompts" クリック**: 新規の PromptOrganizerExecuteDialog を開く

---

## 3. ① 実行ダイアログ (PromptOrganizerExecuteDialog)

### 3.1 レイアウト

```
┌────────────────────────────────────────────────────┐
│ プロンプトを整理                              [×]  │
├────────────────────────────────────────────────────┤
│                                                    │
│ 📊 実行内容確認                                    │
│ ┌────────────────────────────────────────────┐     │
│ │ 対象プロンプト: 42件                       │     │
│ │                                            │     │
│ │ 想定トークン数: 15,234 tokens              │     │
│ │                                            │     │
│ │ コンテキスト使用率:                        │     │
│ │ [████████░░░░░░░░░░] 12.3%                 │     │
│ │                                            │     │
│ │ 概算コスト: ¥2.5 / 回 (参考)               │     │
│ └────────────────────────────────────────────┘     │
│                                                    │
│ ℹ️ 実行設定は「設定メニュー」から変更できます      │
│                                                    │
│                        [キャンセル] [整理する]     │
└────────────────────────────────────────────────────┘
```

### 3.2 目的と役割

このダイアログは**実行専用**のダイアログであり、以下の役割を持つ：

1. **実行前の最終確認**: 現在の設定で何が行われるかをユーザーに明示
2. **コスト可視化**: 実行にかかるトークン数とコストを表示
3. **シンプルな実行**: 複雑な設定変更はせず、実行のみにフォーカス

### 3.3 インタラクション

**ダイアログを開く**:

- Improve Menu → "Organize Prompts" をクリック
- 現在の設定（PromptOrganizerSettings）を読み込み
- 対象プロンプトを絞り込み
- トークン数とコストを計算して表示

**整理するボタン**:

- 現在の設定でプロンプト整理を実行
- ローディング表示 → Gemini API 呼び出し
- 成功時: OrganizerSummaryDialog に遷移
- エラー時: エラーメッセージを表示

**設定を変更したい場合**:

- ダイアログ内の案内メッセージから設定メニューに誘導
- または、Settings Menu → "Prompt Organizer Settings" で設定ダイアログを開く

### 3.4 バリデーション

- API キーが未設定の場合: エラーメッセージを表示し、実行ボタンを無効化
- 対象プロンプトが0件の場合: 警告メッセージを表示
- トークン数が上限を超える場合: 警告メッセージを表示

---

## 4. ② 設定ダイアログ (OrganizerSettingsDialog)

### 4.1 概要

このダイアログは**設定専用**のダイアログであり、実行機能は持たない。
プロンプト整理の各種設定（絞り込み条件、整理用プロンプト）を編集・保存する役割を持つ。

### 4.2 レイアウト

```
┌────────────────────────────────────────────────────┐
│ プロンプト整理の設定                          [×]  │
├────────────────────────────────────────────────────┤
│                                                    │
│ 🔧 絞り込み条件                                    │
│ ┌────────────────────────────────────────────┐     │
│ │ 最終実行時期:  [1週間 ▼] [1ヶ月] [1年]     │     │
│ │                                            │     │
│ │ 最低実行回数:  [___2___] 回以上            │     │
│ │                                            │     │
│ │ 読み込み件数:  [__100__] 件                │     │
│ └────────────────────────────────────────────┘     │
│                                                    │
│ 📝 整理用プロンプト                                │
│ ┌────────────────────────────────────────────┐     │
│ │ あなたはプロンプト整理の専門家です。       │     │
│ │ ユーザーの過去のプロンプト履歴から、       │     │
│ │ 再利用可能なテンプレートを作成して...      │     │
│ │                                            │     │
│ │ [編集可能なテキストエリア]                 │     │
│ └────────────────────────────────────────────┘     │
│ [デフォルトに戻す]                                 │
│                                                    │
│                        [キャンセル] [保存]         │
└────────────────────────────────────────────────────┘
```

### 4.3 インタラクション

**絞り込み条件変更時**:

- 変更内容を一時的に保持
- バリデーションを実行（範囲チェック）

**整理用プロンプトの編集**:

- Textarea で自由編集可能
- 「デフォルトに戻す」ボタンでプリセットに復元

**保存ボタン**:

- バリデーションが通過した場合のみ有効化
- 押下後、設定をストレージに保存
- 保存完了後、ダイアログを閉じる

**キャンセルボタン**:

- 変更を破棄してダイアログを閉じる

### 4.4 バリデーション

- 最低実行回数: 0 〜 100
- 読み込み件数: 10 〜 1000
- 整理用プロンプト: 1文字以上必須

---

## 5. ③ サマリダイアログ (OrganizerSummaryDialog)

### 5.1 レイアウト

```
┌────────────────────────────────────────────────────┐
│ ✨ プロンプトを自動整理しました                [×] │
├────────────────────────────────────────────────────┤
│                                                    │
│ 📈 整理結果                                        │
│ ┌────────────────────────────────────────────┐     │
│ │ • 新しいテンプレート: 3件                  │     │
│ │ • 対象: 過去30日 / 42件のプロンプト        │     │
│ │ • コスト: ¥2.5                             │     │
│ └────────────────────────────────────────────┘     │
│                                                    │
│ 🌟 おすすめテンプレート                            │
│ ┌────────────────────────────────────────────┐     │
│ │ 「取引先へ謝罪メールを作成」               │     │
│ │ ────────────────────────────────           │     │
│ │ 対象: 7件のプロンプトから作成              │     │
│ │                                            │     │
│ │ よく使っている '取引先へのメール' パターン │     │
│ │ を、変数付きテンプレートとして1件作成      │     │
│ │ しました。今後、取引先へのメールはこの     │     │
│ │ テンプレートから数クリックで呼び出せます。 │     │
│ │                                            │     │
│ │ [このテンプレートを試す →]                 │     │
│ └────────────────────────────────────────────┘     │
│                                                    │
│                 [すべて保存] [プレビューを見る]    │
└────────────────────────────────────────────────────┘
```

### 5.2 インタラクション

**このテンプレートを試す**:

- 該当テンプレートの変数入力ダイアログを開く
- 即座に利用できる成功体験を提供

**すべて保存**:

- 全テンプレートを一括で保存
- `showInPinned = true` で Pinned セクションB に表示
- 保存後、完了通知を表示

**プレビューを見る**:

- プレビューダイアログに遷移
- 個別に編集・選択が可能

### 5.3 ストーリー化

代表的な1件を強調表示し、以下の要素でストーリーを構築：

- **タイトル**: 簡潔なユースケース
- **元件数**: 「7件のプロンプトから作成」
- **ナラティブ**: 「よく使っている...」という説明文
- **行動促進**: 「このテンプレートを試す」ボタン

---

## 6. ④ プレビューダイアログ (OrganizerPreviewDialog)

### 6.1 レイアウト（2ペイン構成）

```
┌────────────────────────────────────────────────────────────────────┐
│ テンプレートのプレビュー                                      [×]  │
├──────────────────┬─────────────────────────────────────────────────┤
│ 左ペイン         │ 右ペイン                                        │
│                  │                                                 │
│ ┌──────────────┐ │ テンプレート名:                                 │
│ │🌟 取引先への │ │ [取引先へ謝罪メールを作成_______________]       │
│ │   謝罪メール │ │                                                 │
│ │   (7件)      │ │ ユースケース:                                   │
│ │              │ │ [取引先へ謝罪のメールを作る_____________]       │
│ │              │ │                                                 │
│ └──────────────┘ │ カテゴリ:                                       │
│ ┌──────────────┐ │ [対外コミュニケーション ▼]                      │
│ │  社内報告書  │ │                                                 │
│ │  作成        │ │ テンプレート本文:                               │
│ │  (12件)      │ │ ┌─────────────────────────────────────────┐     │
│ │              │ │ │ 件名: {{subject}} のご報告とお詫び      │     │
│ └──────────────┘ │ │                                         │     │
│ ┌──────────────┐ │ │ {{client_name}}様                       │     │
│ │  議事録作成  │ │ │                                         │     │
│ │  (5件)       │ │ │ 平素より大変お世話になっております。    │     │
│ │              │ │ │ この度は {{issue}} につきまして、       │     │
│ └──────────────┘ │ │ 多大なるご迷惑をおかけし...             │     │
│                  │ │                                         │     │
│                  │ │ [変数は {{...}} でハイライト]           │     │
│                  │ └─────────────────────────────────────────┘     │
│                  │                                                 │
│                  │ 抽出された変数:                                 │
│                  │ • {{subject}}: 報告対象の件名                   │
│                  │ • {{client_name}}: 取引先名                     │
│                  │ • {{issue}}: 発生した問題                       │
│                  │                                                 │
│                  │ > 元になったプロンプト例を表示 (2件)            │
│                  │                                                 │
│                  │                                                 │
│                  │ [保存しない]       [保存] [保存してお気に入り]  │
└──────────────────┴─────────────────────────────────────────────────┘
```

### 6.2 インタラクション

**左ペイン: テンプレート一覧**:

- クリックで選択（ハイライト表示）
- テンプレート名とソース件数を表示
- 🌟アイコンで AI 生成を視覚化

**右ペイン: 詳細表示・編集**:

- テンプレート名: 編集可能（20文字以内）
- ユースケース: 編集可能（40文字以内）
- カテゴリ: プルダウンで選択
  - 既存カテゴリ一覧
  - 「+ 新しいカテゴリを追加」オプション
- テンプレート本文: 読み取り専用（変数部分をハイライト）
- 変数一覧: 名前と説明を表示

**元になったプロンプト例**:

- Collapse（折りたたみ）で 2〜3件を表示
- プロンプトの全文を確認可能

**アクションボタン**:

- **保存しない**: `userAction = 'discard'`、次のテンプレートに移動
- **保存**: `userAction = 'save'`、ストレージに保存
- **保存してお気に入り**: `userAction = 'save_and_pin'`、保存＋ピン留め

### 6.3 バリデーション

- テンプレート名: 必須、20文字以内
- ユースケース: 必須、40文字以内
- カテゴリ: 選択必須

---

## 7. ⑤ Pinned Menu のセクション表示

### 7.1 セクション分割レイアウト

```
┌────────────────────────────────────────┐
│ 📌 Pinned                         [×]  │
├────────────────────────────────────────┤
│                                        │
│ 🙋 あなたのピン留め                    │
│ ┌────────────────────────────────┐     │
│ │ ⭐ よく使うプロンプト1         │     │
│ │   "プロジェクト報告書を..."    │     │
│ └────────────────────────────────┘     │
│ ┌────────────────────────────────┐     │
│ │ ⭐ よく使うプロンプト2         │     │
│ │   "週次レポートを作成..."      │     │
│ └────────────────────────────────┘     │
│                                        │
│ ✨ AIのおすすめテンプレ                │
│ ┌────────────────────────────────┐     │
│ │ 🌟 取引先へ謝罪メールを作成    │ (新規キラキラ)
│ │   「取引先へ謝罪のメールを...」│     │
│ └────────────────────────────────┘     │
│ ┌────────────────────────────────┐     │
│ │ 🌟 社内報告書作成              │     │
│ │   「目標達成と顧客から...」    │     │
│ └────────────────────────────────┘     │
│ ┌────────────────────────────────┐     │
│ │ 🌟 議事録作成                  │     │
│ │   「チームへすぐにTODOを...」  │     │
│ └────────────────────────────────┘     │
│                                        │
└────────────────────────────────────────┘
```

### 7.2 セクションヘッダー

**セクションA: 「🙋 あなたのピン留め」**

- ユーザーが手動でピンしたプロンプト
- 通常の星アイコン（⭐）

**セクションB: 「✨ AIのおすすめテンプレ」**

- AI 自動作成かつ `showInPinned === true` のプロンプト
- AIアイコン（🌟）で区別

### 7.3 新規未確認の装飾

**未確認状態（`aiMetadata.confirmed === false`）**:

```css
/* グラデーション背景 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* キラキラアニメーション */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

background-size: 200% 100%;
animation: shimmer 3s ease-in-out infinite;
```

**確認済み状態（`confirmed === true`）**:

- 通常の背景色
- アニメーションなし
- 引き続き 🌟 アイコンで AI 生成を示す

### 7.4 Pinned トリガーアイコンの装飾

**未確認テンプレートが存在する場合**:

```
[🌟] ← Pinned トリガーに同様のキラキラ装飾
```

- Pinned Menu のトリガー自体にもキラキラアニメーション
- ユーザーの注意を引き、新規テンプレートの存在を知らせる

---

## 8. ユーザー確認フロー

### 8.1 テンプレート候補の状態遷移図

```
                    ┌───────────────┐
                    │  生成完了     │
                    │ (API Response)│
                    └──────┬────────┘
                           │
                           ↓
                    ┌──────────────┐
         ┌─────────→│  プレビュー  │←──────────┐
         │          │   状態       │           │
         │          │ (OrganizerPreviewDialog) │
         │          └──────┬───────┘           │
         │                 │                   │
         │    ┌───────────┼───────────┐       │
         │    │           │           │       │
         │    ↓           ↓           ↓       │
         │ [破棄]      [保存]    [保存&ピン]  │
         │    │           │           │       │
         │    │           ↓           ↓       │
         │    │    ┌──────────────┐          │
         │    │    │   保存済み   │          │
         │    │    │ confirmed=true│         │
         │    │    └──────┬───────┘          │
         │    │           │                   │
         │    │  ┌────────┼────────┐         │
         │    │  │        │        │         │
         │    │  ↓        ↓        ↓         │
         │    │[未確認] [確認済み] [ピン留め] │
         │    │  │        │        │         │
         │    │  │        │        │         │
         │    │  │   [クリック]    │         │
         │    │  │   [実行]        │         │
         │    │  └────────┬────────┘         │
         │    │           │                   │
         │    ↓           ↓                   │
         │  [削除]   [確認済み]              │
         │             │                      │
         │             │[編集]                │
         │             └──────────────────────┘
         │
         └──[戻る/再編集]
```

### 8.2 各状態の詳細仕様

#### 8.2.1 プレビュー状態

**UI表示**:

- OrganizerPreviewDialogを表示
- 2カラムレイアウト（左: テンプレート候補リスト、右: 詳細）
- 各テンプレート候補はクリック選択可能

**ユーザーアクション**:

- **マウス操作**:
  - 左ペイン: 候補をクリック → 右ペインに詳細表示
  - 右ペイン: タイトル/ユースケース/カテゴリを編集可能
  - [破棄] ボタン → 削除確認ダイアログ → 候補を削除
  - [保存] ボタン → 保存済み状態へ遷移（confirmed=true, isPinned=false）
  - [保存&ピン] ボタン → 保存済み&ピン留め状態へ遷移（confirmed=true, isPinned=true）

- **キーボード操作**:
  - `↑` / `↓`: 左ペインの候補を上下移動
  - `Enter`: 選択中の候補の詳細を表示
  - `Tab`: フォーカスを右ペインのフィールドに移動
  - `Esc`: ダイアログを閉じる

**状態遷移トリガー**:

- `userAction = 'discard'` → 削除
- `userAction = 'save'` → 保存済み状態
- `userAction = 'save_and_pin'` → 保存済み&ピン留め状態

#### 8.2.2 保存済み（未確認）状態

**データ状態**:

```typescript
{
  isAIGenerated: true,
  aiMetadata: {
    confirmed: false,  // 未確認
    showInPinned: true/false,  // 参照元プロンプト数と変数の多さに応じて決定
  },
  isPinned: false/true,  // 保存&ピンの場合true
}
```

**UI表示**:

- PinnedメニューのセクションBに表示（showInPinned=trueの場合）
- または通常のHistoryに表示
- **キラキラアニメーション**を表示（未確認の視覚的フィードバック）
- AI生成バッジを表示

**ユーザーアクション**:

- **クリック**: メニュー項目をクリック → プロンプトを選択 → 確認済み状態へ遷移
- **実行**: プロンプトを実行 → 確認済み状態へ遷移
- **ホバー**: プレビューツールチップを表示
- **右クリック**: コンテキストメニュー表示
  - 「編集」→ プレビュー状態へ戻る
  - 「削除」→ 削除
  - 「お気に入りに追加」→ ピン留め状態へ遷移

**状態遷移トリガー**:

- クリック/実行 → `confirmed = true`
- 右クリック > 編集 → プレビュー状態へ戻る

#### 8.2.3 確認済み状態

**データ状態**:

```typescript
{
  isAIGenerated: true,
  aiMetadata: {
    confirmed: true,  // 確認済み
    showInPinned: true/false,
  },
  isPinned: false/true,
}
```

**UI表示**:

- キラキラアニメーション**解除**
- 通常表示（セクションBに引き続き表示、またはHistoryに表示）
- AI生成バッジは引き続き表示

**ユーザーアクション**:

- 通常のプロンプトと同様の操作が可能
- **クリック**: プロンプトを選択
- **実行**: プロンプトを実行
- **右クリック**: コンテキストメニュー
  - 「編集」→ 編集モード
  - 「削除」→ 削除
  - 「お気に入りに追加/削除」→ ピン留めトグル

**状態遷移トリガー**:

- なし（最終状態）

#### 8.2.4 ピン留め状態

**データ状態**:

```typescript
{
  isAIGenerated: true,
  aiMetadata: {
    confirmed: true,  // 通常は確認済み
    showInPinned: false,  // セクションAに移動したのでfalse
  },
  isPinned: true,  // ピン留め
}
```

**UI表示**:

- **セクションA: あなたのピン留め** に表示
- 手動でピン留めした通常プロンプトと同じセクション
- AI生成バッジは引き続き表示（区別可能）

**ユーザーアクション**:

- セクションAの通常のピン留めプロンプトと同様の操作

### 8.3 状態遷移の例

**例1: 保存して即座に使用**

```
[プレビュー] → [保存] → [未確認（セクションB）]
                         ↓ [クリックして実行]
                   [確認済み（セクションB）]
```

**例2: 保存してピン留め**

```
[プレビュー] → [保存&ピン] → [未確認（セクションA）]
                              ↓ [クリックして実行]
                        [確認済み（セクションA）]
```

**例3: 後で確認してピン留め**

```
[プレビュー] → [保存] → [未確認（セクションB）]
                         ↓ [右クリック > お気に入りに追加]
                   [未確認（セクションA）]
                         ↓ [クリックして実行]
                   [確認済み（セクションA）]
```

**例4: 編集してから保存**

```
[プレビュー] → [タイトル編集] → [保存] → [未確認（セクションB）]
                                          ↓ [実行]
                                    [確認済み（セクションB）]
```

### 8.4 確認済みへの遷移

```
[AI自動作成プロンプト]
  confirmed: false
  ↓
[ユーザーがクリック または 実行]
  ↓
aiMetadata.confirmed = true に更新
  ↓
キラキラアニメーション解除
  ↓
通常表示（引き続きセクションBに表示）
```

### 8.5 ピン昇格フロー

```
[セクションB: AIおすすめテンプレ]
  ↓
[右クリック → 「お気に入りに追加」]
  ↓
isPinned = true に更新
  ↓
[セクションA: あなたのピン留め] に移動
```

---

## 9. 通知・フィードバック

### 9.1 完了通知

**整理完了時**:

```
┌───────────────────────────────────────────┐
│ ✅ 3件のテンプレートを保存しました        │
│    「AIのおすすめテンプレ」で確認できます │
└───────────────────────────────────────────┘
```

- 既存の通知機構により、画面右下に通知

**保存後の Pinned リスト表示時**:

```
┌─────────────────────────────────────┐
│ 📣 新しく '社内報告用' テンプレート │
│    2件を追加しました                │
└─────────────────────────────────────┘
```

- セクションB の上部に一時的なメッセージバナー
- 「×」で閉じるまで表示

### 9.2 エラー表示

**Gemini API エラー**:

```
┌────────────────────────────────────┐
│ ❌ プロンプトの整理に失敗しました   │
│                                    │
│ Gemini API からエラーが返されました│
│ 設定を見直して再度お試しください   │
│                                    │
│ [閉じる]                           │
└────────────────────────────────────┘
```

**ネットワークエラー**:

```
┌────────────────────────────────────┐
│ ⚠️ ネットワークエラー               │
│                                    │
│ インターネット接続を確認して       │
│ 再度お試しください                 │
│                                    │
│ [再試行] [閉じる]                  │
└────────────────────────────────────┘
```

---

## 10. レスポンシブ対応

### 10.1 ダイアログのサイズ

- **設定ダイアログ**: 固定幅 600px、可変高さ
- **サマリダイアログ**: 固定幅 500px、可変高さ
- **プレビューダイアログ**: 固定幅 900px、可変高さ
  - 画面が狭い場合は 2ペインを縦並びに変更（700px以下）
- **実行ダイアログ**: 固定幅 500px、可変高さ

### 10.2 モバイル対応

（Chrome 拡張機能なのでモバイル対応は不要）

---

## 11. アクセシビリティ

### 11.1 キーボード操作

- **Tab**: フォーカス移動
- **Enter**: ボタン実行
- **Esc**: ダイアログを閉じる
- **↑↓**: テンプレート一覧の選択移動

### 11.2 ARIA 属性

```tsx
<Dialog role="dialog" aria-labelledby="dialog-title">
  <h2 id="dialog-title">プロンプト自動整理</h2>
  {/* ... */}
</Dialog>

<Button aria-label="整理を実行">整理する</Button>

<ProgressBar
  role="progressbar"
  aria-valuenow={contextUsageRate * 100}
  aria-valuemin={0}
  aria-valuemax={100}
>
```

### 11.3 スクリーンリーダー対応

- すべてのボタンに `aria-label` を付与
- 状態変化（ローディング、エラー）を `aria-live` で通知
- フォームフィールドに `label` を関連付け

---

## 12. パフォーマンス

### 12.1 レンダリング最適化

- 大量のテンプレート候補（10件以上）の場合、Virtualization を検討
- 左ペインのリストは `React.memo` でメモ化
- 右ペインの詳細表示は選択変更時のみ再レンダリング

### 12.2 アニメーション

- キラキラアニメーションは CSS のみで実装（JS 不使用）
- `will-change: transform` でパフォーマンス最適化
- 60fps を維持

---

## 13. 国際化 (i18n)

すべてのテキストを `i18n.t()` で管理。

### 13.1 追加する翻訳キー

```yaml
# en.yml
organizer:
  settingsTitle: "Prompt Organizer Settings"
  filterPeriod: "Period"
  filterExecutionCount: "Min execution count"
  filterMaxPrompts: "Max prompts to load"
  organizationPrompt: "Organization prompt"
  resetToDefault: "Reset to default"
  executionEstimate: "Execution estimate"
  targetPrompts: "Target prompts"
  estimatedTokens: "Estimated tokens"
  contextUsage: "Context usage"
  estimatedCost: "Estimated cost"
  execute: "Organize"
  summaryTitle: "Prompts organized successfully"
  templatesCreated: "New templates created"
  sourceInfo: "Source: {days} days / {count} prompts"
  previewTitle: "Template preview"
  sectionUserPinned: "Your pinned"
  sectionAIRecommended: "AI recommendations"
  category:
    externalCommunication: "External Communication"
    externalCommunicationDesc: "Communication with clients and customers"
    internalCommunication: "Internal Communication"
    internalCommunicationDesc: "Team communication and internal reports"
    documentCreation: "Document Creation"
    documentCreationDesc: "Reports, proposals, articles, etc."
    development: "Development & Tech"
    developmentDesc: "Code, technical research, design, etc."
    other: "Other"
    otherDesc: "Prompts that don't fit other categories"
  # ... その他
```

```yaml
# ja.yml
organizer:
  settingsTitle: "プロンプト自動整理"
  filterPeriod: "最終実行時期"
  filterExecutionCount: "最低実行回数"
  filterMaxPrompts: "読み込み件数"
  organizationPrompt: "整理用プロンプト"
  resetToDefault: "デフォルトに戻す"
  executionEstimate: "実行想定"
  targetPrompts: "対象プロンプト"
  estimatedTokens: "想定トークン数"
  contextUsage: "コンテキスト使用率"
  estimatedCost: "概算コスト"
  execute: "整理する"
  summaryTitle: "プロンプトを自動整理しました"
  templatesCreated: "新しいテンプレート"
  sourceInfo: "対象: 過去{days}日 / {count}件"
  previewTitle: "テンプレートのプレビュー"
  sectionUserPinned: "あなたのピン留め"
  sectionAIRecommended: "AIのおすすめテンプレ"
  category:
    externalCommunication: "対外コミュニケーション"
    externalCommunicationDesc: "取引先や顧客とのやり取り"
    internalCommunication: "社内コミュニケーション"
    internalCommunicationDesc: "チーム内や社内報告"
    documentCreation: "ドキュメント作成"
    documentCreationDesc: "報告書、提案書、記事など"
    development: "開発・技術"
    developmentDesc: "コード、技術調査、設計など"
    other: "その他"
    otherDesc: "上記以外のプロンプト"
  # ... その他
```

---

## 14. デザインシステム

既存の Shadcn/ui コンポーネントと Tailwind CSS を活用。

### 14.1 使用するコンポーネント

- `Dialog`, `DialogContent`, `DialogHeader`, `DialogFooter`
- `Button`
- `Input`, `Textarea`
- `Select`, `SelectTrigger`, `SelectContent`
- `Progress` (コンテキスト使用率バー)
- `Badge` (AI アイコン、件数表示)
- `Collapse` (元プロンプト例の折りたたみ)
- `Tabs` (将来的な拡張用)
- `MenubarContent`, `MenubarItem` (Improve Menu サブメニュー)

### 14.2 カラーパレット

- **AI 生成の強調**: グラデーション `#667eea` → `#764ba2`
- **警告**: `text-yellow-600`
- **エラー**: `text-red-600`
- **成功**: `text-green-600`
- **通常**: `text-neutral-600`

---

## 15. まとめ

UI/UX 設計のポイント：

1. **二重エントリーポイント**: 実行と設定を分離し、ユーザーの目的に応じた導線を提供
   - Improve Menu → "Organize Prompts": 即座に実行したいユーザー向け
   - Settings Menu → "Prompt Organizer Settings": 詳細設定を変更したいユーザー向け
2. **安心感**: 常にコスト・トークン数を可視化
3. **透明性**: プレビュー画面で内容を確認してから保存
4. **ストーリー化**: サマリで代表的な1件を強調し、成功体験を演出
5. **視覚的フィードバック**: キラキラアニメーションで新規テンプレートを通知
6. **編集可能性**: ユーザーが自由にテンプレート内容を調整可能
